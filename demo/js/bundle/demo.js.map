{"version":3,"sources":["webpack://TagInputDemo/webpack/bootstrap","webpack://TagInputDemo/./js/demo.ts","webpack://TagInputDemo/../src/lib/index.ts","webpack://TagInputDemo/../src/lib/TagInput.ts","webpack://TagInputDemo/external \"Mustache\"","webpack://TagInputDemo/../src/css/standard.css?92c0","webpack://TagInputDemo/../src/css/standard.css","webpack://TagInputDemo/./node_modules/css-loader/dist/runtime/api.js","webpack://TagInputDemo/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","stringData","lastDatabaseId","createNewExampleTagDataInDatabase","label","id","toString","eventConsole","document","getElementById","valueConsole","logPlaceholderText","serialise","items","map","join","logCallbackDataToConsole","instance","added","removed","selected","logLine","textContent","innerHTML","append","getValue","tags0","TagInput","input","data","getId","item","getLabel","onTagsChanged","allowNewTags","tags1","newItemFactory","Promise","resolve","tags2","tags3","tags4","enableSuggestions","tags5","globalCssClassPrefix","htmlTemplate","itemTemplate","suggestionTemplate","tags6","allowUpperCase","KeyCodes","KeyNavDirection","noop","range","start","step","count","Array","from","length","_","k","EmptyString","controlKeyCodes","ENTER","TAB","BACKSPACE","HOME","END","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","standardValidTagCharacterKeyCodes","concat","standardHtmlTemplate","standardItemTemplate","standardSuggestionTemplate","options","this","originalInput","minCharsBeforeShowingSuggestions","Error","tagDataSeparator","validTagCharacterKeyCodes","onTagAdded","onTagRemoved","placeholderText","getAttribute","trim","Mustache","parse","warningClass","narrowedInputClass","multiCaseInputClass","suggestionDropdownClass","suggestionDropdownHiddenClass","suggestionClass","selectedSuggestionClass","selectedIds","split","currentSelection","filter","includes","templateData","containerClasses","classList","tags","hiddenInput","placeholder","partials","html","render","template","createElement","isTextInput","target","el","selector","matches","webkitMatchesSelector","insertAdjacentHTML","tagInputContainer","firstChild","cloneNode","tagInputHiddenInput","querySelector","tagInputTextInput","tagInputSuggestionDropdown","remove","insertAdjacentElement","add","addEventListener","e","element","contains","stopPropagation","removeTag","parentElement","addTag","keyCode","direction","DOWN","UP","selectedItem","sibling","nextElementSibling","previousElementSibling","allSiblings","querySelectorAll","firstElement","getTextInputValue","suggestions","indexOf","suggestionData","showSuggestions","hideSuggestions","preventDefault","inputValue","tagElements","lastTagElement","showTagInput","clearTagInput","hideTagInput","focusTagInput","getHiddenInputValue","selectedTag","find","tag","newItem","push","tagTemplateData","tagHtml","updateHiddenInput","setTimeout","toLowerCase","setAttribute","focus","tagElement","idx","findIndex","removedTag","splice","content","locals","useSourceMap","list","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","_i","memo","stylesInDom","isOldIE","Boolean","window","all","atob","getTarget","styleTarget","HTMLIFrameElement","contentDocument","head","listToStyles","styles","newStyles","base","part","css","media","parts","addStylesToDom","domStyle","j","refs","addStyle","insertStyleElement","style","attributes","nonce","keys","forEach","insert","appendChild","textStore","replaceText","index","replacement","applyToSingletonTag","obj","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","newList","mayRemove","_domStyle"],"mappings":"6BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,+8CClFrD,WAEA,KAEA,IAAMC,EAAuB,CACzB,MACA,MACA,OACA,UACA,UACA,OAYAC,EAAiB,IAOrB,SAAeC,EAAkCC,G,mEAG7C,MAAO,CAAP,EAAO,CAAEC,IADTH,GAAkB,KACUI,WAAYF,MAAOA,UAGnD,IAUMG,EAAeC,SAASC,eAAe,iBACvCC,EAAeF,SAASC,eAAe,iBAEvCE,EAAqB,oDAI3B,SAASC,EAAUC,GACf,MAAO,IAAMA,EAAMC,KAAI,SAAA7C,GAAK,gBAAUA,EAAEoC,GAAE,cAAcpC,EAAEmC,MAAK,SAAOW,KAAK,MAAQ,IAIvF,SAASC,EAA4BX,GACjC,OAAO,SAACY,EAAuBC,EAAeC,EAAiBC,GAC3D,IAAMC,EAAU,IAAIhB,EAAE,YAAYO,EAAUM,GAAM,cAAcN,EAAUO,GAAQ,gBAAgBP,EAAUQ,GAAS,KACjHb,EAAae,cAAgBX,EAC7BJ,EAAagB,UAAYF,EAEzBd,EAAaiB,OAAOH,GAExBX,EAAaa,UAAY,IAAIlB,EAAE,mBAAmBY,EAASQ,WAAU,KAf7ElB,EAAagB,UAAYZ,EAmBZ,EAAAe,MAAQ,IAAI,EAAAC,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAAM5B,EACN6B,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBE,cAAejB,EAAyB,SACxCkB,cAAc,IAGL,EAAAC,MAAQ,IAAI,EAAAR,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAAM5B,EACN6B,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBK,eAAgB,SAAAhC,GAAS,OAAAiC,QAAQC,QAAQlC,IACzC6B,cAAejB,EAAyB,WAG/B,EAAAuB,MAAQ,IAAI,EAAAZ,SAA0B,CAC/CC,MAAOpB,SAASC,eAAe,SAC/BoB,KAtDkC,CAClC,CAAExB,GAAI,MAAOD,MAAO,OACpB,CAAEC,GAAI,MAAOD,MAAO,OACpB,CAAEC,GAAI,MAAOD,MAAO,QACpB,CAAEC,GAAI,MAAOD,MAAO,WACpB,CAAEC,GAAI,MAAOD,MAAO,WACpB,CAAEC,GAAI,MAAOD,MAAO,QAiDpB0B,MAAO,SAAAC,GAAQ,OAAAA,EAAK1B,IACpB2B,SAAU,SAAAD,GAAQ,OAAAA,EAAK3B,OACvBgC,eAAgB,SAAMhC,GAAK,0C,kDAEhB,SAAMD,EAAkCC,I,OAA/C,MAAO,CAAP,EAAO,kBAEX6B,cAAejB,EAAyB,WAG/B,EAAAwB,MAAQ,IAAI,EAAAb,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAAM5B,EACN6B,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBK,eAAgB,SAAAhC,GAAS,OAAAiC,QAAQC,QAAQlC,IACzC6B,cAAejB,EAAyB,WAG/B,EAAAyB,MAAQ,IAAI,EAAAd,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAAM5B,EACN6B,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBK,eAAgB,SAAAhC,GAAS,OAAAiC,QAAQC,QAAQlC,IACzC6B,cAAejB,EAAyB,SACxC0B,mBAAmB,IAGV,EAAAC,MAAQ,IAAI,EAAAhB,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAAM5B,EACN6B,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBK,eAAgB,SAAAhC,GAAS,OAAAiC,QAAQC,QAAQlC,IACzCwC,qBAAsB,SACtBC,aAAcrC,SAASC,eAAe,eAAec,UACrDuB,aAActC,SAASC,eAAe,cAAcc,UACpDwB,mBAAoBvC,SAASC,eAAe,qBAAqBc,UACjEU,cAAejB,EAAyB,WAG/B,EAAAgC,MAAQ,IAAI,EAAArB,SAAiB,CACtCC,MAAOpB,SAASC,eAAe,SAC/BoB,KAxH8B,CAC9B,MACA,MACA,OACA,UACA,UACA,OAmHAC,MAAO,SAAAC,GAAQ,OAAAA,GACfC,SAAU,SAAAD,GAAQ,OAAAA,GAClBK,eAAgB,SAAAhC,GAAS,OAAAiC,QAAQC,QAAQlC,IACzC6B,cAAejB,EAAyB,SACxCiC,gBAAgB,K,8ECxIpB,WAAS,EAAAtB,SAAA,EAAAA,U,68CCFT,IAkBKuB,EAYAC,EA9BL,OAMA,SAASC,I,IAAK,sDAId,SAASC,EAAMC,EAAeC,EAAcC,GACxC,OAAOC,MAAMC,KAAK,CAACC,OAAQH,IAAQ,SAACI,EAAGC,GAAM,OAACA,EAAIN,EAAQD,MAO9D,SAAKJ,GACD,sBACA,iBACA,6BACA,oBACA,kBACA,gCACA,4BACA,kCACA,gCATJ,CAAKA,MAAQ,KAYb,SAAKC,GACD,eACA,mBAFJ,CAAKA,MAAe,KAKpB,IAAMW,EAAc,GAEdC,EAAkB,CACpBb,EAASc,MACTd,EAASe,IACTf,EAASgB,UACThB,EAASiB,KACTjB,EAASkB,IACTlB,EAASmB,WACTnB,EAASoB,SACTpB,EAASqB,YACTrB,EAASsB,YAUPC,EALuBpB,EAAM,GAAI,EAAG,IAAIqB,OAAOrB,EAAM,GAAI,EAAG,KAKOqB,OAFlD,CAAC,MAEwEA,OAAOX,GAEjGY,EACN,6lBASMC,EACN,gIAEMC,EACN,2GAEA,aAyCI,WAAYC,GAAZ,WACIC,KAAKjD,MAAQgD,EAAQhD,MACrBiD,KAAK/C,SAAW8C,EAAQ9C,SACxB+C,KAAK3C,eAAiB0C,EAAQ1C,eAE9B2C,KAAKlD,KAAOiD,EAAQjD,KAAKf,KAAI,SAAAiB,GAAQ,OAAG1B,GAAI,EAAKyB,MAAMC,GAAO3B,MAAO,EAAK4B,SAASD,OAEnF,IAAMiD,EAAgBF,EAAQlD,MAM9B,GAJAmD,KAAKrC,mBAAkD,IAA9BoC,EAAQpC,kBACjCqC,KAAKE,iCAAmCH,EAAQG,kCAAoC,EACpFF,KAAK7C,cAAwC,IAAzB4C,EAAQ5C,aAExB6C,KAAK7C,eAAiB6C,KAAK3C,eAC3B,MAAM8C,MAAM,uEAGhBH,KAAKI,iBAAmBL,EAAQK,kBAAoB,IACpDJ,KAAKK,0BAA4BN,EAAQM,2BAA6BX,EACtEM,KAAK9B,eAAiB6B,EAAQ7B,iBAAkB,EAEhD8B,KAAKM,WAAaP,EAAQO,YAAcjC,EACxC2B,KAAKO,aAAeR,EAAQQ,cAAgBlC,EAC5C2B,KAAK9C,cAAgB6C,EAAQ7C,eAAiBmB,EAE9C2B,KAAKnC,qBAAuBkC,EAAQlC,sBAAwB,yBAC5DmC,KAAKQ,gBAAkBP,EAAcQ,aAAa,eAElDT,KAAKlC,cAAgBiC,EAAQjC,cAAgB8B,GAAsBc,OACnEV,KAAKjC,cAAgBgC,EAAQhC,cAAgB8B,GAAsBa,OACnEV,KAAKhC,oBAAsB+B,EAAQ/B,oBAAsB8B,GAA4BY,OAErFC,EAASC,MAAMZ,KAAKlC,cACpB6C,EAASC,MAAMZ,KAAKjC,cACpB4C,EAASC,MAAMZ,KAAKhC,oBAEpBgC,KAAKa,aAAkBb,KAAKnC,qBAAoB,eAChDmC,KAAKc,mBAAwBd,KAAKnC,qBAAoB,kBACtDmC,KAAKe,oBAAyBf,KAAKnC,qBAAoB,mBACvDmC,KAAKgB,wBAA6BhB,KAAKnC,qBAAoB,eAC3DmC,KAAKiB,8BAAmCjB,KAAKnC,qBAAoB,sBACjEmC,KAAKkB,gBAAqBlB,KAAKnC,qBAAoB,cACnDmC,KAAKmB,wBAA6BnB,KAAKkB,gBAAe,YAEtD,IAAME,EAAcnB,EAAc9F,MAAMkH,MAAMrB,KAAKI,kBAEnDJ,KAAKsB,iBAAmBtB,KAAKlD,KAAKyE,QAAO,SAAAvE,GAAQ,OAAAoE,EAAYI,SAASxE,EAAK1B,OAE3E,IAAMmG,EAAoB,CACtBC,iBAAkBzB,EAAc0B,UAAUxH,MAC1C0D,qBAAsBmC,KAAKnC,qBAC3B+D,KAAM5B,KAAKsB,iBACXO,YAAa,CACTpI,KAAMwG,EAAcxG,KACpB6B,GAAI2E,EAAc3E,GAClBnB,MAAO8F,EAAc9F,OAEzB2H,YAAa9B,KAAKQ,iBAGhBuB,EAAgB,CAClB/E,KAAMgD,KAAKjC,cAGTiE,EAAOrB,EAASsB,OAAOjC,KAAKlC,aAAc2D,EAAcM,GAExDG,EAAWzG,SAAS0G,cAAc,YAgIxC,SAASC,EAAYC,GACjB,IAxSKC,EAAaC,EAySlB,OAzSkBA,EAySM,qBAzSnBD,EAwSWD,GAvSbG,SAAWF,EAAGG,uBAAuBpJ,KAAKiJ,EAAIC,GAuKrDL,EAASQ,mBAAmB,aAAcV,GAE1ChC,KAAK2C,kBAAoBT,EAASU,WAAWC,WAAU,GAEvD7C,KAAK8C,oBAAsB9C,KAAK2C,kBAAkBI,cAAc,iBAChE/C,KAAKgD,kBAAoBhD,KAAK2C,kBAAkBI,cAAc,eAC9D/C,KAAKiD,2BAA6BjD,KAAK2C,kBAAkBI,cAAc,IAAI/C,KAAKgB,yBAEhFkB,EAASgB,SAETjD,EAAckD,sBAAsB,WAAYnD,KAAK2C,mBACrD1C,EAAciD,SAEVlD,KAAK9B,gBACL8B,KAAKgD,kBAAkBrB,UAAUyB,IAAIpD,KAAKe,qBAG9Cf,KAAK2C,kBAAkBU,iBAAiB,SAAS,SAAAC,GAC7C,IAAMC,EAAUD,EAAEjB,OACdkB,EAAQ5B,UAAU6B,SAAS,cAC3BF,EAAEG,kBACF,EAAKC,UAAUH,EAAQI,mBAE5B,GAEC3D,KAAKrC,oBACLqC,KAAKiD,2BAA2BI,iBAAiB,SAAS,SAAMC,GAAC,qC,0DAG7D,OAFMC,EAAUD,EAAEjB,OACZhH,EAAQkI,EAAQ9C,aAAa,cACnC,GAAMT,KAAK4D,OAAOvI,I,cAAlB,S,cAGJ2E,KAAKgD,kBAAkBK,iBAAiB,SAAS,SAAAC,GAE7C,GAAIA,EAAEO,UAAY1F,EAASoB,UAAY+D,EAAEO,UAAY1F,EAASsB,WAAY,CAEtE,IAAMqE,EAAYR,EAAEO,UAAY1F,EAASsB,WAAarB,EAAgB2F,KAAO3F,EAAgB4F,GAEvFC,EAAe,EAAKhB,2BAA2BF,cAAc,IAAI,EAAK5B,yBAE5E,GAAI8C,EAAc,CAKd,IAAIC,EAAUJ,IAAc1F,EAAgB2F,KACtCE,EAAaE,mBACbF,EAAaG,uBAInB,IAAKF,EAAS,CACV,IAAMG,EAAc,EAAKpB,2BAA2BqB,iBAAiB,IAAI,EAAKpD,iBAE1EgD,EADAJ,IAAc1F,EAAgB2F,KACpBM,EAAY,GAEZA,EAAYA,EAAYzF,OAAS,GAInDqF,EAAatC,UAAUuB,OAAO,EAAK/B,yBACnC+C,EAAQvC,UAAUyB,IAAI,EAAKjC,yBAC3B,EAAK6B,kBAAkB7I,MAAQ+J,EAAQzD,aAAa,mBACjD,GAAIqD,IAAc1F,EAAgB2F,KAAM,CAC3C,IAAMQ,EAAe,EAAKtB,2BAA2BL,WACrD2B,EAAa5C,UAAUyB,IAAI,EAAKjC,yBAChC,EAAK6B,kBAAkB7I,MAAQoK,EAAa9D,aAAa,oBAE1D,GAAI,EAAKJ,0BAA0BmB,SAAS8B,EAAEO,SAAU,CAC3D,IAAM,EAAa,EAAKW,kBAAkB,EAAKtG,gBAE/C,GAAI,EAAWU,QAAU,EAAKsB,iCAAkC,CAC5D,IAAMuE,EAAc,EAAK3H,KACpByE,QAAO,SAAAnH,GAAK,OAAC,EAAKkH,iBAAiBE,SAASpH,MAC5CmH,QAAO,SAAAnH,GAAK,OAAAA,EAAEiB,MAAMqJ,QAAQ,IAAe,KAC3C3I,KAAI,SAAA3B,GACD,IAAMuK,EAAiB,CACnB9G,qBAAsB,EAAKA,qBAC3BvC,GAAIlB,EAAEkB,GACND,MAAOjB,EAAEiB,OAGb,OAAOsF,EAASsB,OAAO,EAAKjE,mBAAoB2G,MAIpDF,EAAY7F,SACZ,EAAKqE,2BAA2BzG,UAAYiI,EAAYzI,KAAK,IAC7D,EAAK4I,wBAGT,EAAKC,uBAMrB7E,KAAKgD,kBAAkBK,iBAAiB,WAAW,SAAMC,GAAC,qC,mEACjDtD,KAAKK,0BAA0BmB,SAAS8B,EAAEO,UAC3CP,EAAEwB,iBAGAC,EAAa/E,KAAKwE,kBAAkBxE,KAAK9B,gBAI3CoF,EAAEO,UAAY1F,EAASc,OAAS8F,IAAehG,EAA/C,OAEAuE,EAAEwB,iBACFxB,EAAEG,kBAEF,GAAMzD,KAAK4D,OAAOmB,K,OAAlB,S,wBAKAzB,EAAEO,UAAY1F,EAASgB,WAAa4F,IAAehG,IAE7CiG,EAAchF,KAAK2C,kBAAkB2B,iBAAiB,IAAItE,KAAKnC,qBAAoB,SAEzEe,SACNqG,EAAiBD,EAAYA,EAAYpG,OAAS,GACxDoB,KAAK0D,UAAUuB,I,cAU3BjF,KAAKgD,kBAAkBK,iBAAiB,SAAS,SAAAC,GACzClB,EAAYkB,EAAEjB,SACd,EAAK6C,kBAIblF,KAAKgD,kBAAkBK,iBAAiB,QAAQ,SAAAC,GACxClB,EAAYkB,EAAEjB,UACd,EAAK8C,gBACD,EAAK7D,iBAAiB1C,QACtB,EAAKwG,mBAOjBpF,KAAK2C,kBAAkBU,iBAAiB,SAAS,SAAAC,GAC7C,EAAK+B,mBAILrF,KAAKsF,wBAA0BvG,GAC/BiB,KAAKoF,eAkIjB,OA9HW,YAAA1I,SAAP,WACI,OAAOsD,KAAKsF,uBAGF,YAAA1B,OAAd,SAAqBvI,G,wHAEXkK,EAAcvF,KAAKsB,iBAAiBkE,MAAK,SAAApL,GAAK,OAAAA,EAAEiB,QAAUA,MAE5D,OAEIoK,EAAMzF,KAAKlD,KAAK0I,MAAK,SAAApL,GAAK,OAAAA,EAAEiB,QAAUA,MAGtC,MAEK2E,KAAK7C,aAKM,GAAM6C,KAAK3C,eAAehC,IAHtC,I,OAGEqK,EAAU,SAEhBD,EAAM,CACFnK,GAAI0E,KAAKjD,MAAM2I,GACfrK,MAAO2E,KAAK/C,SAASyI,IAKzB1F,KAAKlD,KAAK6I,KAAKF,G,wBAGnBzF,KAAKsB,iBAAiBqE,KAAKF,GAErBG,EAAkB,CACpBtK,GAAImK,EAAInK,GACRD,MAAOoK,EAAIpK,MACXwC,qBAAsBmC,KAAKnC,sBAGzBgI,EAAUlF,EAASsB,OAAOjC,KAAKjC,aAAc6H,GAGnD5F,KAAK8C,oBAAoBJ,mBAAmB,cAAemD,GAE3D7F,KAAKmF,gBAELnF,KAAK6E,kBAEL7E,KAAK8F,kBAAkB9F,KAAKsB,kBAC5BtB,KAAKM,WAAWN,KAAM,CAACyF,GAAMzF,KAAKsB,kBAClCtB,KAAK9C,cAAc8C,KAAM,CAACyF,GAAM,GAAIzF,KAAKsB,kB,cAGnC,EAAqBtB,KAAK2C,kBAC3BI,cAAc,IAAI/C,KAAKnC,qBAAoB,oBAAoB0H,EAAYlK,MAAK,OAElEsG,UAAUyB,IAAIpD,KAAKa,cAEtCb,KAAKmF,gBAELY,YAAW,WACP,EAAmBpE,UAAUuB,OAAO,EAAKrC,gBAC1C,M,mCAIH,YAAA2D,kBAAR,SAA0BtG,GACtB,IAAM/D,EAAQ6F,KAAKgD,kBAAkB7I,MAAMuG,OAC3C,OAAQxC,EAEF/D,EADAA,EAAM6L,eAIR,YAAAV,oBAAR,WACI,OAAOtF,KAAK8C,oBAAoB3I,MAAMuG,QAGlC,YAAAwE,aAAR,WACQlF,KAAKQ,iBACLR,KAAKgD,kBAAkBiD,aAAa,cAAejG,KAAKQ,iBAG5DR,KAAKgD,kBAAkBrB,UAAUuB,OAAOlD,KAAKc,qBAGzC,YAAAuE,cAAR,WACIrF,KAAKgD,kBAAkBkD,SAGnB,YAAAd,aAAR,WACQpF,KAAKwE,kBAAkBxE,KAAK9B,kBAAoBa,IAChDiB,KAAKgD,kBAAkBiD,aAAa,cAAelH,GAInDiB,KAAKgD,kBAAkBrB,UAAUyB,IAAIpD,KAAKc,sBAI1C,YAAAqE,cAAR,WACInF,KAAKgD,kBAAkB7I,MAAQ,MAG3B,YAAA2L,kBAAR,SAA0BhJ,GACtBkD,KAAK8C,oBAAoB3I,MAAQ2C,EAAKf,KAAI,SAAA3B,GAAK,OAAAA,EAAEkB,MAAIU,KAAKgE,KAAKI,mBAG3D,YAAAwE,gBAAR,WACI5E,KAAKiD,2BAA2BtB,UAAUuB,OAAOlD,KAAKiB,gCAGlD,YAAA4D,gBAAR,WACI7E,KAAKiD,2BAA2BtB,UAAUyB,IAAIpD,KAAKiB,gCAG/C,YAAAyC,UAAR,SAAkByC,GACd,IAAM9K,EAAQ8K,EAAW1F,aAAa,cAChC2F,EAAMpG,KAAKsB,iBAAiB+E,WAAU,SAAAnN,GAAK,OAAAA,EAAEmC,QAAUA,KACvDiL,EAAatG,KAAKsB,iBAAiB8E,GACzCpG,KAAKsB,iBAAiBiF,OAAOH,EAAK,GAClCD,EAAWjD,SACXlD,KAAK8F,kBAAkB9F,KAAKsB,kBAC5BtB,KAAKO,aAAaP,KAAM,CAACsG,GAAatG,KAAKsB,kBAC3CtB,KAAK9C,cAAc8C,KAAM,GAAI,CAACsG,GAAatG,KAAKsB,mBAExD,EAzYA,GAAa,EAAA1E,Y,cC1Eb3D,EAAOD,QAAU2H,U,gBCAjB,IAAI6F,EAAU,EAAQ,GAEC,iBAAZA,IACTA,EAAU,CAAC,CAACvN,EAAOC,EAAIsN,EAAS,MAGlC,IAAIzG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAEP,EAAQ,EAAR,CAA0FyG,EAASzG,GAE5GyG,EAAQC,SACVxN,EAAOD,QAAUwN,EAAQC,S,iBCdjBxN,EAAOD,QAAU,EAAQ,EAAR,EAAkE,IAErF2M,KAAK,CAAC1M,EAAOC,EAAI,k2DAAm2D,M,6BCM53DD,EAAOD,QAAU,SAAU0N,GACzB,IAAIC,EAAO,GAmDX,OAjDAA,EAAKpL,SAAW,WACd,OAAOyE,KAAKjE,KAAI,SAAUiB,GACxB,IAAIwJ,EAkDV,SAAgCxJ,EAAM0J,GACpC,IAAIF,EAAUxJ,EAAK,IAAM,GAErB4J,EAAa5J,EAAK,GAEtB,IAAK4J,EACH,OAAOJ,EAGT,GAAIE,GAAgC,mBAATG,KAAqB,CAC9C,IAAIC,GAWWC,EAXeH,EAa5BI,EAASH,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MACzDjK,EAAO,+DAA+D6C,OAAOqH,GAC1E,OAAOrH,OAAO7C,EAAM,QAdrBuK,EAAaT,EAAWU,QAAQvL,KAAI,SAAUwL,GAChD,MAAO,iBAAiB5H,OAAOiH,EAAWY,YAAY7H,OAAO4H,EAAQ,UAEvE,MAAO,CAACf,GAAS7G,OAAO0H,GAAY1H,OAAO,CAACmH,IAAgB9K,KAAK,MAOrE,IAAmB+K,EAEbC,EACAlK,EAPJ,MAAO,CAAC0J,GAASxK,KAAK,MAnEJyL,CAAuBzK,EAAM0J,GAE3C,OAAI1J,EAAK,GACA,UAAU2C,OAAO3C,EAAK,GAAI,KAAK2C,OAAO6G,EAAS,KAGjDA,KACNxK,KAAK,KAKV2K,EAAKzN,EAAI,SAAUE,EAASsO,GACH,iBAAZtO,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAK7B,IAFA,IAAIuO,EAAyB,GAEpBzO,EAAI,EAAGA,EAAI8G,KAAKpB,OAAQ1F,IAAK,CAEpC,IAAIoC,EAAK0E,KAAK9G,GAAG,GAEP,MAANoC,IACFqM,EAAuBrM,IAAM,GAIjC,IAAK,IAAIsM,EAAK,EAAGA,EAAKxO,EAAQwF,OAAQgJ,IAAM,CAC1C,IAAI5K,EAAO5D,EAAQwO,GAKJ,MAAX5K,EAAK,IAAe2K,EAAuB3K,EAAK,MAC9C0K,IAAe1K,EAAK,GACtBA,EAAK,GAAK0K,EACDA,IACT1K,EAAK,GAAK,IAAI2C,OAAO3C,EAAK,GAAI,WAAW2C,OAAO+H,EAAY,MAG9Df,EAAKhB,KAAK3I,MAKT2J,I,6BC1DT,IAGMkB,EAHFC,EAAc,GAEdC,EAEK,WAUL,YAToB,IAATF,IAMTA,EAAOG,QAAQC,QAAUxM,UAAYA,SAASyM,MAAQD,OAAOE,OAGxDN,GAIPO,EAAY,WACd,IAAIP,EAAO,GACX,OAAO,SAAkBxF,GACvB,QAA4B,IAAjBwF,EAAKxF,GAAyB,CACvC,IAAIgG,EAAc5M,SAASsH,cAAcV,GAEzC,GAAI4F,OAAOK,mBAAqBD,aAAuBJ,OAAOK,kBAC5D,IAGED,EAAcA,EAAYE,gBAAgBC,KAC1C,MAAOlF,GAEP+E,EAAc,KAIlBR,EAAKxF,GAAUgG,EAGjB,OAAOR,EAAKxF,IApBA,GAwBhB,SAASoG,EAAa9B,EAAM5G,GAI1B,IAHA,IAAI2I,EAAS,GACTC,EAAY,GAEPzP,EAAI,EAAGA,EAAIyN,EAAK/H,OAAQ1F,IAAK,CACpC,IAAI8D,EAAO2J,EAAKzN,GACZoC,EAAKyE,EAAQ6I,KAAO5L,EAAK,GAAK+C,EAAQ6I,KAAO5L,EAAK,GAIlD6L,EAAO,CACTC,IAJQ9L,EAAK,GAKb+L,MAJU/L,EAAK,GAKf+J,UAJc/J,EAAK,IAOhB2L,EAAUrN,GAMbqN,EAAUrN,GAAI0N,MAAMrD,KAAKkD,GALzBH,EAAO/C,KAAKgD,EAAUrN,GAAM,CAC1BA,GAAIA,EACJ0N,MAAO,CAACH,KAOd,OAAOH,EAGT,SAASO,EAAeP,EAAQ3I,GAC9B,IAAK,IAAI7G,EAAI,EAAGA,EAAIwP,EAAO9J,OAAQ1F,IAAK,CACtC,IAAI8D,EAAO0L,EAAOxP,GACdgQ,EAAWpB,EAAY9K,EAAK1B,IAC5B6N,EAAI,EAER,GAAID,EAAU,CAGZ,IAFAA,EAASE,OAEFD,EAAID,EAASF,MAAMpK,OAAQuK,IAChCD,EAASF,MAAMG,GAAGnM,EAAKgM,MAAMG,IAG/B,KAAOA,EAAInM,EAAKgM,MAAMpK,OAAQuK,IAC5BD,EAASF,MAAMrD,KAAK0D,EAASrM,EAAKgM,MAAMG,GAAIpJ,QAEzC,CAGL,IAFA,IAAIiJ,EAAQ,GAELG,EAAInM,EAAKgM,MAAMpK,OAAQuK,IAC5BH,EAAMrD,KAAK0D,EAASrM,EAAKgM,MAAMG,GAAIpJ,IAGrC+H,EAAY9K,EAAK1B,IAAM,CACrBA,GAAI0B,EAAK1B,GACT8N,KAAM,EACNJ,MAAOA,KAMf,SAASM,EAAmBvJ,GAC1B,IAAIwJ,EAAQ9N,SAAS0G,cAAc,SAEnC,QAAwC,IAA7BpC,EAAQyJ,WAAWC,MAAuB,CACnD,IAAIA,EAAmD,KAEnDA,IACF1J,EAAQyJ,WAAWC,MAAQA,GAQ/B,GAJA7P,OAAO8P,KAAK3J,EAAQyJ,YAAYG,SAAQ,SAAUlP,GAChD8O,EAAMtD,aAAaxL,EAAKsF,EAAQyJ,WAAW/O,OAGf,mBAAnBsF,EAAQ6J,OACjB7J,EAAQ6J,OAAOL,OACV,CACL,IAAIlH,EAAS+F,EAAUrI,EAAQ6J,QAAU,QAEzC,IAAKvH,EACH,MAAM,IAAIlC,MAAM,2GAGlBkC,EAAOwH,YAAYN,GAGrB,OAAOA,EAcT,IACMO,EADFC,GACED,EAAY,GACT,SAAiBE,EAAOC,GAE7B,OADAH,EAAUE,GAASC,EACZH,EAAUvI,OAAOyG,SAAShM,KAAK,QAI1C,SAASkO,EAAoBX,EAAOS,EAAO9G,EAAQiH,GACjD,IAAIrB,EAAM5F,EAAS,GAAKiH,EAAIrB,IAI5B,GAAIS,EAAMa,WACRb,EAAMa,WAAWC,QAAUN,EAAYC,EAAOlB,OACzC,CACL,IAAIwB,EAAU7O,SAAS8O,eAAezB,GAClC0B,EAAajB,EAAMiB,WAEnBA,EAAWR,IACbT,EAAMkB,YAAYD,EAAWR,IAG3BQ,EAAW5L,OACb2K,EAAMmB,aAAaJ,EAASE,EAAWR,IAEvCT,EAAMM,YAAYS,IAKxB,SAASK,EAAWpB,EAAOxJ,EAASoK,GAClC,IAAIrB,EAAMqB,EAAIrB,IACVC,EAAQoB,EAAIpB,MACZhC,EAAYoD,EAAIpD,UAapB,GAXIgC,GACFQ,EAAMtD,aAAa,QAAS8C,GAG1BhC,GAAaF,OACfiC,GAAO,uDAAuDnJ,OAAOkH,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MAAe,QAMlIwC,EAAMa,WACRb,EAAMa,WAAWC,QAAUvB,MACtB,CACL,KAAOS,EAAM3G,YACX2G,EAAMkB,YAAYlB,EAAM3G,YAG1B2G,EAAMM,YAAYpO,SAAS8O,eAAezB,KAI9C,IAAI8B,EAAY,KACZC,EAAmB,EAEvB,SAASxB,EAASc,EAAKpK,GACrB,IAAIwJ,EACAuB,EACA5H,EAEJ,GAAInD,EAAQ6K,UAAW,CACrB,IAAIG,EAAaF,IACjBtB,EAAQqB,IAAcA,EAAYtB,EAAmBvJ,IACrD+K,EAASZ,EAAoBxP,KAAK,KAAM6O,EAAOwB,GAAY,GAC3D7H,EAASgH,EAAoBxP,KAAK,KAAM6O,EAAOwB,GAAY,QAE3DxB,EAAQD,EAAmBvJ,GAC3B+K,EAASH,EAAWjQ,KAAK,KAAM6O,EAAOxJ,GAEtCmD,EAAS,YAtFb,SAA4BqG,GAE1B,GAAyB,OAArBA,EAAMyB,WACR,OAAO,EAGTzB,EAAMyB,WAAWP,YAAYlB,GAiFzB0B,CAAmB1B,IAKvB,OADAuB,EAAOX,GACA,SAAqBe,GAC1B,GAAIA,EAAQ,CACV,GAAIA,EAAOpC,MAAQqB,EAAIrB,KAAOoC,EAAOnC,QAAUoB,EAAIpB,OAASmC,EAAOnE,YAAcoD,EAAIpD,UACnF,OAGF+D,EAAOX,EAAMe,QAEbhI,KAKNjK,EAAOD,QAAU,SAAU2N,EAAM5G,IAC/BA,EAAUA,GAAW,IACbyJ,WAA2C,iBAAvBzJ,EAAQyJ,WAA0BzJ,EAAQyJ,WAAa,GAG9EzJ,EAAQ6K,WAA0C,kBAAtB7K,EAAQ6K,YACvC7K,EAAQ6K,UAAY7C,KAGtB,IAAIW,EAASD,EAAa9B,EAAM5G,GAEhC,OADAkJ,EAAeP,EAAQ3I,GAChB,SAAgBoL,GAGrB,IAFA,IAAIC,EAAY,GAEPlS,EAAI,EAAGA,EAAIwP,EAAO9J,OAAQ1F,IAAK,CACtC,IAAI8D,EAAO0L,EAAOxP,GACdgQ,EAAWpB,EAAY9K,EAAK1B,IAE5B4N,IACFA,EAASE,OACTgC,EAAUzF,KAAKuD,IAIfiC,GAEFlC,EADgBR,EAAa0C,EAASpL,GACZA,GAG5B,IAAK,IAAI6H,EAAK,EAAGA,EAAKwD,EAAUxM,OAAQgJ,IAAM,CAC5C,IAAIyD,EAAYD,EAAUxD,GAE1B,GAAuB,IAAnByD,EAAUjC,KAAY,CACxB,IAAK,IAAID,EAAI,EAAGA,EAAIkC,EAAUrC,MAAMpK,OAAQuK,IAC1CkC,EAAUrC,MAAMG,YAGXrB,EAAYuD,EAAU/P","file":"demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { ITag, TagInput } from '../../src/lib';\r\n\r\nimport '../../src/css/standard.css';\r\n\r\nconst stringData: string[] = [\r\n    'dog',\r\n    'cat',\r\n    'fish',\r\n    'catfish',\r\n    'dogfish',\r\n    'bat'\r\n];\r\n\r\nconst stringDataCased: string[] = [\r\n    'dog',\r\n    'CAT',\r\n    'FISH',\r\n    'CATFISH',\r\n    'dogFISH',\r\n    'bat'\r\n];\r\n\r\nlet lastDatabaseId = 500;\r\n\r\ninterface IExampleTagData {\r\n    id: string;\r\n    label: string;\r\n}\r\n\r\nasync function createNewExampleTagDataInDatabase(label: string): Promise<IExampleTagData> {\r\n    // Pretend that this goes off and creates a database record here\r\n    lastDatabaseId += 100;\r\n    return { id: lastDatabaseId.toString(), label: label };\r\n}\r\n\r\nconst objectData: IExampleTagData[] = [\r\n    { id: '100', label: 'dog' },\r\n    { id: '200', label: 'cat' },\r\n    { id: '300', label: 'fish' },\r\n    { id: '400', label: 'catfish' },\r\n    { id: '500', label: 'dogfish' },\r\n    { id: '600', label: 'bat' }\r\n];\r\n\r\n// Set up an on-screen console for the demo\r\nconst eventConsole = document.getElementById('event-console');\r\nconst valueConsole = document.getElementById('value-console');\r\n\r\nconst logPlaceholderText = 'Add or remove a tag in one of the inputs above...';\r\n\r\neventConsole.innerHTML = logPlaceholderText;\r\n\r\nfunction serialise(items: ITag[]) {\r\n    return '[' + items.map(i => `{ id: '${i.id}', label: '${i.label}' }`).join(', ') + ']';\r\n}\r\n\r\n// Write callback data to the screen when tags are added or removed in demo inputs\r\nfunction logCallbackDataToConsole<T>(id: string) {\r\n    return (instance: TagInput<T>, added: ITag[], removed: ITag[], selected: ITag[]) => {\r\n        const logLine = `[${id}] Added: ${serialise(added)}, Removed: ${serialise(removed)}, Selection: ${serialise(selected)}\\n`;\r\n        if (eventConsole.textContent === logPlaceholderText) {\r\n            eventConsole.innerHTML = logLine;\r\n        } else {\r\n            eventConsole.append(logLine);\r\n        }\r\n        valueConsole.innerHTML = `[${id}] Value is now '${instance.getValue()}'`;\r\n    };\r\n}\r\n\r\nexport const tags0 = new TagInput<string>({\r\n    input: document.getElementById('tags0'),\r\n    data: stringData,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    onTagsChanged: logCallbackDataToConsole('tags0'),\r\n    allowNewTags: false\r\n});\r\n\r\nexport const tags1 = new TagInput<string>({\r\n    input: document.getElementById('tags1'),\r\n    data: stringData,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    newItemFactory: label => Promise.resolve(label),\r\n    onTagsChanged: logCallbackDataToConsole('tags1')\r\n});\r\n\r\nexport const tags2 = new TagInput<IExampleTagData>({\r\n    input: document.getElementById('tags2'),\r\n    data: objectData,\r\n    getId: item => item.id,\r\n    getLabel: item => item.label,\r\n    newItemFactory: async label => {\r\n        // Pretend that this goes off and creates a new record in a database (with validation etc)\r\n        return await createNewExampleTagDataInDatabase(label);\r\n    },\r\n    onTagsChanged: logCallbackDataToConsole('tags2')\r\n});\r\n\r\nexport const tags3 = new TagInput<string>({\r\n    input: document.getElementById('tags3'),\r\n    data: stringData,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    newItemFactory: label => Promise.resolve(label),\r\n    onTagsChanged: logCallbackDataToConsole('tags3')\r\n});\r\n\r\nexport const tags4 = new TagInput<string>({\r\n    input: document.getElementById('tags4'),\r\n    data: stringData,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    newItemFactory: label => Promise.resolve(label),\r\n    onTagsChanged: logCallbackDataToConsole('tags4'),\r\n    enableSuggestions: false\r\n});\r\n\r\nexport const tags5 = new TagInput<string>({\r\n    input: document.getElementById('tags5'),\r\n    data: stringData,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    newItemFactory: label => Promise.resolve(label),\r\n    globalCssClassPrefix: 'custom',\r\n    htmlTemplate: document.getElementById('custom-html').innerHTML,\r\n    itemTemplate: document.getElementById('custom-tag').innerHTML,\r\n    suggestionTemplate: document.getElementById('custom-suggestion').innerHTML,\r\n    onTagsChanged: logCallbackDataToConsole('tags5')\r\n});\r\n\r\nexport const tags6 = new TagInput<string>({\r\n    input: document.getElementById('tags6'),\r\n    data: stringDataCased,\r\n    getId: item => item,\r\n    getLabel: item => item,\r\n    newItemFactory: label => Promise.resolve(label),\r\n    onTagsChanged: logCallbackDataToConsole('tags6'),\r\n    allowUpperCase: true\r\n});\r\n","export { ITag } from './ITag';\r\nexport { ITagInputOptions } from './ITagInputOptions';\r\nexport { TagInput } from './TagInput';\r\n","import * as Mustache from 'mustache';\r\n\r\nimport { ITag } from './ITag';\r\nimport { ITagInputOptions } from './ITagInputOptions';\r\n\r\n// tslint:disable-next-line: no-empty\r\nfunction noop(...args: any[]): any {\r\n}\r\n\r\n// So range(10, 10, 5) = [10, 20, 30, 40, 50]\r\nfunction range(start: number, step: number, count: number): number[] {\r\n    return Array.from({length: count}, (_, k) => (k * step) + start);\r\n}\r\n\r\nfunction matches(el: Element, selector: string): boolean {\r\n    return (el.matches || el.webkitMatchesSelector).call(el, selector);\r\n}\r\n\r\nenum KeyCodes {\r\n    ENTER = 13,\r\n    TAB = 9,\r\n    BACKSPACE = 8,\r\n    HOME = 35,\r\n    END = 36,\r\n    LEFT_ARROW = 37,\r\n    UP_ARROW = 38,\r\n    RIGHT_ARROW = 39,\r\n    DOWN_ARROW = 40\r\n}\r\n\r\nenum KeyNavDirection {\r\n    UP,\r\n    DOWN\r\n}\r\n\r\nconst EmptyString = '';\r\n\r\nconst controlKeyCodes = [\r\n    KeyCodes.ENTER,\r\n    KeyCodes.TAB,\r\n    KeyCodes.BACKSPACE,\r\n    KeyCodes.HOME,\r\n    KeyCodes.END,\r\n    KeyCodes.LEFT_ARROW,\r\n    KeyCodes.UP_ARROW,\r\n    KeyCodes.RIGHT_ARROW,\r\n    KeyCodes.DOWN_ARROW\r\n];\r\n\r\n// Concatenate the key code ranges for numbers and letters\r\n// Note that these are *key* codes, so the letter codes are the same for upper and lower case\r\nconst alphaNumericKeyCodes = range(48, 1, 10).concat(range(65, 1, 26));\r\n\r\n// The only symbol allowed by default is minus (-), which can be used to separate words in a tag\r\nconst symbolKeyCodes = [189];\r\n\r\nconst standardValidTagCharacterKeyCodes: number[] = alphaNumericKeyCodes.concat(symbolKeyCodes).concat(controlKeyCodes);\r\n\r\nconst standardHtmlTemplate =\r\n`<div class=\"{{globalCssClassPrefix}}{{#containerClasses}} {{containerClasses}}{{/containerClasses}}\">\r\n    {{#tags}}{{> item}}{{/tags}}\r\n    <input class=\"{{globalCssClassPrefix}}-data\" type=\"hidden\" name=\"{{hiddenInput.name}}\" id=\"{{hiddenInput.id}}\" value=\"{{hiddenInput.value}}\">\r\n    <div class=\"{{globalCssClassPrefix}}-input-container\">\r\n        <input class=\"{{globalCssClassPrefix}}-input\" type=\"text\"{{#placeholder}} placeholder=\"{{placeholder}}\"{{/placeholder}}>\r\n        <div class=\"{{globalCssClassPrefix}}-suggestions {{globalCssClassPrefix}}-suggestions-hidden\"></div>\r\n    </div>\r\n</div>`;\r\n\r\nconst standardItemTemplate =\r\n'<div class=\"{{globalCssClassPrefix}}-tag\" data-id=\"{{id}}\" data-label=\"{{label}}\">{{label}} <i class=\"fa fa-times\"></i></div>';\r\n\r\nconst standardSuggestionTemplate =\r\n'<div class=\"{{globalCssClassPrefix}}-suggestion\" data-id=\"{{id}}\" data-label=\"{{label}}\">{{label}}</div>';\r\n\r\nexport class TagInput<T> {\r\n    private readonly data: ITag[];\r\n\r\n    private readonly getId: (item: T) => string;\r\n    private readonly getLabel: (item: T) => string;\r\n    private readonly newItemFactory: (label: string) => Promise<T>;\r\n\r\n    private readonly enableSuggestions: boolean;\r\n    private readonly minCharsBeforeShowingSuggestions: number;\r\n    private readonly allowNewTags: boolean;\r\n\r\n    private readonly tagDataSeparator: string;\r\n    private readonly validTagCharacterKeyCodes: number[];\r\n    private readonly allowUpperCase: boolean;\r\n\r\n    private readonly onTagAdded: (instance: TagInput<T>, added: ITag[], selected: ITag[]) => void;\r\n    private readonly onTagRemoved: (instance: TagInput<T>, removed: ITag[], selected: ITag[]) => void;\r\n    // tslint:disable-next-line: max-line-length\r\n    private readonly onTagsChanged: (instance: TagInput<T>, added: ITag[], removed: ITag[], selected: ITag[]) => void;\r\n\r\n    private readonly tagInputContainer: HTMLElement;\r\n    private readonly tagInputHiddenInput: HTMLInputElement;\r\n    private readonly tagInputTextInput: HTMLInputElement;\r\n    private readonly tagInputSuggestionDropdown: HTMLElement;\r\n\r\n    private readonly globalCssClassPrefix: string;\r\n    private readonly placeholderText: string;\r\n    private readonly htmlTemplate: string;\r\n    private readonly itemTemplate: string;\r\n    private readonly suggestionTemplate: string;\r\n\r\n    private readonly currentSelection: ITag[];\r\n\r\n    private readonly warningClass: string;\r\n    private readonly narrowedInputClass: string;\r\n    private readonly multiCaseInputClass: string;\r\n    private readonly suggestionDropdownClass: string;\r\n    private readonly suggestionDropdownHiddenClass: string;\r\n    private readonly suggestionClass: string;\r\n    private readonly selectedSuggestionClass: string;\r\n\r\n    constructor(options: ITagInputOptions<T>) {\r\n        this.getId = options.getId;\r\n        this.getLabel = options.getLabel;\r\n        this.newItemFactory = options.newItemFactory;\r\n\r\n        this.data = options.data.map(item => ({ id: this.getId(item), label: this.getLabel(item) }));\r\n\r\n        const originalInput = options.input as HTMLInputElement;\r\n\r\n        this.enableSuggestions = options.enableSuggestions === false ? false : true;\r\n        this.minCharsBeforeShowingSuggestions = options.minCharsBeforeShowingSuggestions || 2;\r\n        this.allowNewTags = options.allowNewTags === false ? false : true;\r\n\r\n        if (this.allowNewTags && !this.newItemFactory) {\r\n            throw Error('A newItemFactory function must be specified if allowNewTags is true');\r\n        }\r\n\r\n        this.tagDataSeparator = options.tagDataSeparator || '|';\r\n        this.validTagCharacterKeyCodes = options.validTagCharacterKeyCodes || standardValidTagCharacterKeyCodes;\r\n        this.allowUpperCase = options.allowUpperCase || false;\r\n\r\n        this.onTagAdded = options.onTagAdded || noop;\r\n        this.onTagRemoved = options.onTagRemoved || noop;\r\n        this.onTagsChanged = options.onTagsChanged || noop;\r\n\r\n        this.globalCssClassPrefix = options.globalCssClassPrefix || 'mab-bootstrap-taginput';\r\n        this.placeholderText = originalInput.getAttribute('placeholder');\r\n\r\n        this.htmlTemplate = (options.htmlTemplate || standardHtmlTemplate).trim();\r\n        this.itemTemplate = (options.itemTemplate || standardItemTemplate).trim();\r\n        this.suggestionTemplate = (options.suggestionTemplate || standardSuggestionTemplate).trim();\r\n\r\n        Mustache.parse(this.htmlTemplate);\r\n        Mustache.parse(this.itemTemplate);\r\n        Mustache.parse(this.suggestionTemplate);\r\n\r\n        this.warningClass = `${this.globalCssClassPrefix}-tag-warning`;\r\n        this.narrowedInputClass = `${this.globalCssClassPrefix}-input-narrowed`;\r\n        this.multiCaseInputClass = `${this.globalCssClassPrefix}-input-multicase`;\r\n        this.suggestionDropdownClass = `${this.globalCssClassPrefix}-suggestions`;\r\n        this.suggestionDropdownHiddenClass = `${this.globalCssClassPrefix}-suggestions-hidden`;\r\n        this.suggestionClass = `${this.globalCssClassPrefix}-suggestion`;\r\n        this.selectedSuggestionClass = `${this.suggestionClass}-selected`;\r\n\r\n        const selectedIds = originalInput.value.split(this.tagDataSeparator);\r\n\r\n        this.currentSelection = this.data.filter(item => selectedIds.includes(item.id));\r\n\r\n        const templateData: any = {\r\n            containerClasses: originalInput.classList.value,\r\n            globalCssClassPrefix: this.globalCssClassPrefix,\r\n            tags: this.currentSelection,\r\n            hiddenInput: {\r\n                name: originalInput.name,\r\n                id: originalInput.id,\r\n                value: originalInput.value,\r\n            },\r\n            placeholder: this.placeholderText\r\n        };\r\n\r\n        const partials: any = {\r\n            item: this.itemTemplate\r\n        };\r\n\r\n        const html = Mustache.render(this.htmlTemplate, templateData, partials);\r\n\r\n        const template = document.createElement('template');\r\n        template.insertAdjacentHTML('afterbegin', html);\r\n\r\n        this.tagInputContainer = template.firstChild.cloneNode(true) as HTMLElement;\r\n\r\n        this.tagInputHiddenInput = this.tagInputContainer.querySelector('[type=hidden]') as HTMLInputElement;\r\n        this.tagInputTextInput = this.tagInputContainer.querySelector('[type=text]') as HTMLInputElement;\r\n        this.tagInputSuggestionDropdown = this.tagInputContainer.querySelector(`.${this.suggestionDropdownClass}`);\r\n\r\n        template.remove();\r\n\r\n        originalInput.insertAdjacentElement('afterend', this.tagInputContainer);\r\n        originalInput.remove();\r\n\r\n        if (this.allowUpperCase) {\r\n            this.tagInputTextInput.classList.add(this.multiCaseInputClass);\r\n        }\r\n\r\n        this.tagInputContainer.addEventListener('click', e => {\r\n            const element = e.target as HTMLElement;\r\n            if (element.classList.contains('fa-times')) {\r\n                e.stopPropagation();\r\n                this.removeTag(element.parentElement);\r\n            }\r\n        }, false);\r\n\r\n        if (this.enableSuggestions) {\r\n            this.tagInputSuggestionDropdown.addEventListener('click', async e => {\r\n                const element = e.target as HTMLElement;\r\n                const label = element.getAttribute('data-label');\r\n                await this.addTag(label);\r\n            });\r\n\r\n            this.tagInputTextInput.addEventListener('keyup', e => {\r\n                // If the up or down arrows are hit, select the previous/next item in the suggestion list\r\n                if (e.keyCode === KeyCodes.UP_ARROW || e.keyCode === KeyCodes.DOWN_ARROW) {\r\n\r\n                    const direction = e.keyCode === KeyCodes.DOWN_ARROW ? KeyNavDirection.DOWN : KeyNavDirection.UP;\r\n\r\n                    const selectedItem = this.tagInputSuggestionDropdown.querySelector(`.${this.selectedSuggestionClass}`);\r\n\r\n                    if (selectedItem) {\r\n                        // TODO: Filter these based on class\r\n                        // https://plainjs.com/javascript/traversing/get-siblings-of-an-element-40/\r\n\r\n                        // An item is already selected, so select the previous/next sibling\r\n                        let sibling = direction === KeyNavDirection.DOWN\r\n                            ? selectedItem.nextElementSibling\r\n                            : selectedItem.previousElementSibling;\r\n\r\n                        // If sibling is null, we've reached the end (or beginning) of the list,\r\n                        // so skip back around to the first (or last) item\r\n                        if (!sibling) {\r\n                            const allSiblings = this.tagInputSuggestionDropdown.querySelectorAll(`.${this.suggestionClass}`);\r\n                            if (direction === KeyNavDirection.DOWN) {\r\n                                sibling = allSiblings[0];\r\n                            } else {\r\n                                sibling = allSiblings[allSiblings.length - 1];\r\n                            }\r\n                        }\r\n\r\n                        selectedItem.classList.remove(this.selectedSuggestionClass);\r\n                        sibling.classList.add(this.selectedSuggestionClass);\r\n                        this.tagInputTextInput.value = sibling.getAttribute('data-label');\r\n                    } else if (direction === KeyNavDirection.DOWN) {\r\n                        const firstElement = this.tagInputSuggestionDropdown.firstChild as HTMLElement;\r\n                        firstElement.classList.add(this.selectedSuggestionClass);\r\n                        this.tagInputTextInput.value = firstElement.getAttribute('data-label');\r\n                    }\r\n                } else if (this.validTagCharacterKeyCodes.includes(e.keyCode)) {\r\n                    const inputValue = this.getTextInputValue(this.allowUpperCase);\r\n\r\n                    if (inputValue.length >= this.minCharsBeforeShowingSuggestions) {\r\n                        const suggestions = this.data\r\n                            .filter(t => !this.currentSelection.includes(t))\r\n                            .filter(t => t.label.indexOf(inputValue) > -1)\r\n                            .map(t => {\r\n                                const suggestionData = {\r\n                                    globalCssClassPrefix: this.globalCssClassPrefix,\r\n                                    id: t.id,\r\n                                    label: t.label\r\n                                };\r\n\r\n                                return Mustache.render(this.suggestionTemplate, suggestionData);\r\n                            });\r\n\r\n                        // TODO: show message (hit enter to add new tag) if no suggestions and new tags allowed?\r\n                        if (suggestions.length) {\r\n                            this.tagInputSuggestionDropdown.innerHTML = suggestions.join('');\r\n                            this.showSuggestions();\r\n                        }\r\n                    } else {\r\n                        this.hideSuggestions();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        this.tagInputTextInput.addEventListener('keydown', async e => {\r\n            if (!this.validTagCharacterKeyCodes.includes(e.keyCode)) {\r\n                e.preventDefault();\r\n            }\r\n\r\n            const inputValue = this.getTextInputValue(this.allowUpperCase);\r\n\r\n            // If enter is hit, and the input is *not* empty (if the input *is* empty,\r\n            // we don't want to prevent the default action, which is submitting the form)\r\n            if (e.keyCode === KeyCodes.ENTER && inputValue !== EmptyString) {\r\n                // Stop the form being submitted and prevent event bubbling\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                await this.addTag(inputValue);\r\n            }\r\n\r\n            // If backspace is hit and there's nothing in the input (if the input *isn't* empty,\r\n            // we don't want to prevent the default action, which is deleting a character)\r\n            if (e.keyCode === KeyCodes.BACKSPACE && inputValue === EmptyString) {\r\n                // Remove the last tag span before the hidden data input\r\n                const tagElements = this.tagInputContainer.querySelectorAll(`.${this.globalCssClassPrefix}-tag`);\r\n\r\n                if (tagElements.length) {\r\n                    const lastTagElement = tagElements[tagElements.length - 1];\r\n                    this.removeTag(lastTagElement);\r\n                }\r\n            }\r\n        });\r\n\r\n        function isTextInput(target: EventTarget) {\r\n            const element = target as HTMLElement;\r\n            return matches(element, 'input[type=text]');\r\n        }\r\n\r\n        this.tagInputTextInput.addEventListener('focus', e => {\r\n            if (isTextInput(e.target)) {\r\n                this.showTagInput();\r\n            }\r\n        });\r\n\r\n        this.tagInputTextInput.addEventListener('blur', e => {\r\n            if (isTextInput(e.target)) {\r\n                this.clearTagInput();\r\n                if (this.currentSelection.length) {\r\n                    this.hideTagInput();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Focus the text input when the control container is clicked, which triggers\r\n        // the show/hide behaviours defined in the handlers above\r\n        this.tagInputContainer.addEventListener('click', e => {\r\n            this.focusTagInput();\r\n        });\r\n\r\n        // If the control already has some tags in it, hide the text input on load\r\n        if (this.getHiddenInputValue() !== EmptyString) {\r\n            this.hideTagInput();\r\n        }\r\n    }\r\n\r\n    public getValue(): string {\r\n        return this.getHiddenInputValue();\r\n    }\r\n\r\n    private async addTag(label: string): Promise<void> {\r\n        // Check if the tag which was entered is already selected (we don't allow duplicates)\r\n        const selectedTag = this.currentSelection.find(t => t.label === label);\r\n\r\n        if (!selectedTag) {\r\n            // Use an existing tag if one already exists with this label\r\n            let tag = this.data.find(t => t.label === label);\r\n\r\n            // If a tag with this label doesn't already exist, create one\r\n            if (!tag) {\r\n                // If this input shouldn't allow new tags, just return now\r\n                if (!this.allowNewTags) {\r\n                    // TODO: make the UX a bit better (red text? callback function to handle error?)\r\n                    return;\r\n                }\r\n\r\n                const newItem = await this.newItemFactory(label);\r\n\r\n                tag = {\r\n                    id: this.getId(newItem),\r\n                    label: this.getLabel(newItem)\r\n                };\r\n\r\n                // Add the tag to the internal data source, so that if it's deleted and re-added again\r\n                // then we get it from there next time and don't create another new one\r\n                this.data.push(tag);\r\n            }\r\n\r\n            this.currentSelection.push(tag);\r\n\r\n            const tagTemplateData = {\r\n                id: tag.id,\r\n                label: tag.label,\r\n                globalCssClassPrefix: this.globalCssClassPrefix\r\n            };\r\n\r\n            const tagHtml = Mustache.render(this.itemTemplate, tagTemplateData);\r\n\r\n            // Insert the new tag before the hidden input\r\n            this.tagInputHiddenInput.insertAdjacentHTML('beforebegin', tagHtml);\r\n\r\n            this.clearTagInput();\r\n\r\n            this.hideSuggestions();\r\n\r\n            this.updateHiddenInput(this.currentSelection);\r\n            this.onTagAdded(this, [tag], this.currentSelection);\r\n            this.onTagsChanged(this, [tag], [], this.currentSelection);\r\n        } else {\r\n            // Highlight the duplicate tag\r\n            const selectedTagElement = this.tagInputContainer\r\n                .querySelector(`.${this.globalCssClassPrefix}-tag[data-label=\"${selectedTag.label}\"]`);\r\n\r\n            selectedTagElement.classList.add(this.warningClass);\r\n\r\n            this.clearTagInput();\r\n\r\n            setTimeout(() => {\r\n                selectedTagElement.classList.remove(this.warningClass);\r\n            }, 1500);\r\n        }\r\n    }\r\n\r\n    private getTextInputValue(allowUpperCase: boolean): string {\r\n        const value = this.tagInputTextInput.value.trim();\r\n        return !allowUpperCase\r\n            ? value.toLowerCase()\r\n            : value;\r\n    }\r\n\r\n    private getHiddenInputValue(): string {\r\n        return this.tagInputHiddenInput.value.trim();\r\n    }\r\n\r\n    private showTagInput(): void {\r\n        if (this.placeholderText) {\r\n            this.tagInputTextInput.setAttribute('placeholder', this.placeholderText);\r\n        }\r\n        // Remove the narrowing class, restoring input to its original width\r\n        this.tagInputTextInput.classList.remove(this.narrowedInputClass);\r\n    }\r\n\r\n    private focusTagInput(): void {\r\n        this.tagInputTextInput.focus();\r\n    }\r\n\r\n    private hideTagInput(): void {\r\n        if (this.getTextInputValue(this.allowUpperCase) === EmptyString) {\r\n            this.tagInputTextInput.setAttribute('placeholder', EmptyString);\r\n            // When the tag text input loses focus, add a class which narrows it\r\n            // to 1px wide. This is to avoid odd visual effects when the tags in\r\n            // the control wrap onto multiple lines\r\n            this.tagInputTextInput.classList.add(this.narrowedInputClass);\r\n        }\r\n    }\r\n\r\n    private clearTagInput(): void {\r\n        this.tagInputTextInput.value = null;\r\n    }\r\n\r\n    private updateHiddenInput(data: ITag[]): void {\r\n        this.tagInputHiddenInput.value = data.map(t => t.id).join(this.tagDataSeparator);\r\n    }\r\n\r\n    private showSuggestions(): void {\r\n        this.tagInputSuggestionDropdown.classList.remove(this.suggestionDropdownHiddenClass);\r\n    }\r\n\r\n    private hideSuggestions(): void {\r\n        this.tagInputSuggestionDropdown.classList.add(this.suggestionDropdownHiddenClass);\r\n    }\r\n\r\n    private removeTag(tagElement: Element): void {\r\n        const label = tagElement.getAttribute('data-label');\r\n        const idx = this.currentSelection.findIndex(i => i.label === label);\r\n        const removedTag = this.currentSelection[idx];\r\n        this.currentSelection.splice(idx, 1);\r\n        tagElement.remove();\r\n        this.updateHiddenInput(this.currentSelection);\r\n        this.onTagRemoved(this, [removedTag], this.currentSelection);\r\n        this.onTagsChanged(this, [], [removedTag], this.currentSelection);\r\n    }\r\n}\r\n","module.exports = Mustache;","var content = require(\"!!../../demo/node_modules/css-loader/dist/cjs.js!./standard.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../demo/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../demo/node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".mab-bootstrap-taginput {\\r\\n    display: flex;\\r\\n    cursor: text;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput.form-control {\\r\\n    line-height: normal;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-tag {\\r\\n    color: #fff;\\r\\n    background-color: #007bff;\\r\\n    display: inline-flex;\\r\\n    align-items: center;\\r\\n    padding: .25em .4em;\\r\\n    font-size: 90%;\\r\\n    font-weight: 700;\\r\\n    white-space: nowrap;\\r\\n    border-radius: .25rem;\\r\\n    margin-right: 5px;\\r\\n    transition: background-color 1600ms ease-in;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-tag .fa {\\r\\n    margin-left: 5px;\\r\\n    font-size: 80%;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-tag-warning {\\r\\n    background-color:#cc0000;\\r\\n    transition: none;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-input {\\r\\n    border: solid 1px transparent;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n    text-transform: lowercase;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-input.mab-bootstrap-taginput-input-multicase {\\r\\n    text-transform: none;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-input.mab-bootstrap-taginput-input-narrowed {\\r\\n    width: 1px;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-input-container {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-suggestions {\\r\\n    position: absolute;\\r\\n    top: 30px;\\r\\n    left: 0;\\r\\n    min-width: 200px;\\r\\n    min-height: 30px;\\r\\n    background-color: #fff;\\r\\n    border: solid 1px #e0e0e0;\\r\\n    border-radius: 3px;\\r\\n    padding: 3px 0;\\r\\n    box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.25);\\r\\n    z-index: 10000;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-suggestions-hidden {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-suggestion {\\r\\n    padding: 5px 10px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.mab-bootstrap-taginput-suggestion-selected,\\r\\n.mab-bootstrap-taginput-suggestion:hover {\\r\\n    background-color: #007bff;\\r\\n    color: #fff;\\r\\n}\\r\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};"],"sourceRoot":""}